!function(a){"use strict";var g,h,e=a("#grid-container"),f=a("#filters-container");e.cubeportfolio({defaultFilter:"*",animationType:"rotateSides",gapHorizontal:10,gapVertical:10,gridAdjustment:"responsive",caption:"overlayBottomPush",displayType:"sequentially",displayTypeSpeed:100,lightboxDelegate:".cbp-lightbox",lightboxGallery:!0,lightboxTitleSrc:"data-title",lightboxCounter:'<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',singlePageDelegate:".cbp-singlePage",singlePageDeeplinking:!0,singlePageStickyNavigation:!0,singlePageCounter:'<div class="cbp-popup-singlePage-counter">{{current}} of {{total}}</div>',singlePageCallback:function(){},singlePageInlineDelegate:".cbp-singlePageInline",singlePageInlinePosition:"below",singlePageInlineInFocus:!0,singlePageInlineCallback:function(b){var d=this;a.ajax({url:b,type:"GET",dataType:"html",timeout:5e3}).done(function(a){d.updateSinglePageInline(a)}).fail(function(){d.updateSinglePageInline("Error! Please refresh the page!")})}}),f.hasClass("cbp-l-filters-dropdown")?(g=f.find(".cbp-l-filters-dropdownWrap"),g.on({"mouseover.cbp":function(){g.addClass("cbp-l-filters-dropdownWrap-open")},"mouseleave.cbp":function(){g.removeClass("cbp-l-filters-dropdownWrap-open")}}),h=function(a){g.find(".cbp-filter-item").removeClass("cbp-filter-item-active"),g.find(".cbp-l-filters-dropdownHeader").text(a.text()),a.addClass("cbp-filter-item-active"),g.trigger("mouseleave.cbp")}):h=function(a){a.addClass("cbp-filter-item-active").siblings().removeClass("cbp-filter-item-active")},f.on("click.cbp",".cbp-filter-item",function(){var b=a(this);b.hasClass("cbp-filter-item-active")||(a.data(e[0],"cubeportfolio").isAnimating||h.call(null,b),e.cubeportfolio("filter",b.data("filter"),function(){}))}),e.cubeportfolio("showCounter",f.find(".cbp-filter-item"),function(){var b,a=/#cbpf=(.*?)([#|?&]|$)/gi.exec(location.href);null!==a&&(b=f.find(".cbp-filter-item").filter('[data-filter="'+a[1]+'"]'),b.length&&h.call(null,b))}),a(".cbp-l-loadMore-button-link").on("click.cbp",function(b){b.preventDefault();var c,f,d=a(this);d.hasClass("cbp-l-loadMore-button-stop")||(c=a.data(this,"numberOfClicks"),c=c?++c:1,a.data(this,"numberOfClicks",c),f=d.text(),d.text("LOADING..."),a.ajax({url:d.attr("href"),type:"GET",dataType:"HTML"}).done(function(b){var g,h;g=a(b).filter(function(){return a(this).is("div.cbp-loadMore-block"+c)}),e.cubeportfolio("appendItems",g.html(),function(){d.text(f),h=a(b).filter(function(){return a(this).is("div.cbp-loadMore-block"+(c+1))}),0===h.length&&(d.text("NO MORE WORKS"),d.addClass("cbp-l-loadMore-button-stop"))})}).fail(function(){}))})}(jQuery,window,document);